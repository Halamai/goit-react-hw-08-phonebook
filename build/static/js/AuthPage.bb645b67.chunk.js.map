{"version":3,"sources":["Components/auth/authForm/AuthForm.js","Components/auth/Auth.js","redux/auth/authOperations.js","pages/AuthPage.js"],"names":["AuthForm","_ref","signUp","signIn","email","setEmail","useState","password","setPassword","displayName","setDisplayName","location","useLocation","onHandleChange","e","name","value","target","_jsx","_Fragment","children","_jsxs","onSubmit","preventDefault","pathname","className","placeholder","type","onChange","Auth","dispatch","useDispatch","error","useSelector","errorSelector","loader","loaderSelector","resetError","useCallback","signUpError","useEffect","user","async","signUpRequest","response","axios","post","process","_objectSpread","returnSecureToken","signUpSuccess","data","message","signUpOperation","signInRequest","signInSuccess","signInError","signInOperation","AuthPage"],"mappings":"oOAuEeA,MAlEEC,IAAyB,IAAxB,OAAEC,EAAM,OAAEC,GAAQF,EAClC,MAAOG,EAAOC,GAAYC,mBAAS,KAC5BC,EAAUC,GAAeF,mBAAS,KAClCG,EAAaC,GAAkBJ,mBAAS,IACzCK,EAAWC,cAEXC,EAAkBC,IACtB,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAEG,OACjB,UAATF,GAAoBV,EAASW,GACpB,aAATD,GAAuBP,EAAYQ,GAC1B,gBAATD,GAA0BL,EAAeM,IAU3C,OACEE,cAAAC,WAAA,CAAAC,SACEC,eAAA,QAAMC,SATcR,IACtBA,EAAES,iBACoB,kBAAtBZ,EAASa,SACLtB,EAAO,CAAEE,QAAOG,WAAUE,gBAC1BN,EAAO,CAAEC,QAAOG,cAKaa,SAAA,CACN,kBAAtBT,EAASa,UACRH,eAAA,SAAOI,UAAU,QAAOL,SAAA,CAAC,OAEvBF,cAAA,SACEO,UAAU,QACVC,YAAY,kBACZC,KAAK,OACLX,MAAOP,EACPmB,SAAUf,EACVE,KAAK,mBAIXM,eAAA,SAAOI,UAAU,QAAOL,SAAA,CAAC,QAEvBF,cAAA,SACEO,UAAU,QACVE,KAAK,OACLX,MAAOZ,EACPwB,SAAUf,EACVE,KAAK,QACLW,YAAY,mBAGhBL,eAAA,SAAOI,UAAU,QAAOL,SAAA,CAAC,WAEvBF,cAAA,SACEO,UAAU,QACVE,KAAK,OACLX,MAAOT,EACPqB,SAAUf,EACVE,KAAK,WACLW,YAAY,sBAGhBR,cAAA,UAAQO,UAAU,QAAQE,KAAK,SAAQP,SACd,kBAAtBT,EAASa,SAA+B,UAAY,kBC/BhDK,MArBFA,KACX,MAAMC,EAAWC,cACXC,EAAQC,YAAYC,KACpBC,EAASF,YAAYG,KACrBzB,EAAWC,cAGXyB,EAAaC,uBAAY,IAAMR,EAASS,YAAY,MAAM,CAACT,IAKjE,OAHAU,qBAAU,KACRH,MACC,CAAC1B,EAAU0B,IAEZhB,eAAAF,WAAA,CAAAC,SAAA,CACEF,cAAClB,EAAQ,CAACE,OATEuC,GAASX,ECPFW,IAASC,UAChCZ,EAASa,eACT,IACE,MAAMC,QAAiBC,IAAMC,KAAKC,wGAAgCC,wBAAA,GAC7DP,GAAI,IACPQ,mBAAmB,KAErBnB,EAASoB,YAAcN,EAASO,OAChC,MAAOnB,GACPF,EAASS,YAAYP,EAAMY,SAASO,KAAKnB,MAAMoB,YDFfC,CAAgBZ,IASpBtC,OARdsC,GAASX,ECKFW,IAASC,UAChCZ,EAASwB,eACT,IACE,MAAMV,QAAiBC,IAAMC,KAAKC,oHAAgCC,wBAAA,GAC7DP,GAAI,IACPQ,mBAAmB,KAErBnB,EAASyB,YAAcX,EAASO,OAChC,MAAOnB,GACPF,EAAS0B,YAAYxB,EAAMY,SAASO,KAAKnB,MAAMoB,YDdfK,CAAgBhB,MAS7CT,GAASd,cAAA,MAAAE,SAAKY,IACdG,GAAUjB,cAAA,MAAAE,SAAI,mBErBNsC,UAJEA,IACRxC,cAACW,EAAI","file":"static/js/AuthPage.bb645b67.chunk.js","sourcesContent":["// import { FormContainer } from \"./AuthFormStyled.js\";\nimport React, { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n// import { HeaderContainer } from \"../../header/HeaderStyled.js\";\n\nconst AuthForm = ({ signUp, signIn }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const location = useLocation();\n\n  const onHandleChange = (e) => {\n    const { name, value } = e.target;\n    name === \"email\" && setEmail(value);\n    name === \"password\" && setPassword(value);\n    name === \"displayName\" && setDisplayName(value);\n  };\n\n  const onHandleSubmit = (e) => {\n    e.preventDefault();\n    location.pathname === \"/registration\"\n      ? signUp({ email, password, displayName })\n      : signIn({ email, password });\n  };\n\n  return (\n    <>\n      <form onSubmit={onHandleSubmit}>\n        {location.pathname === \"/registration\" && (\n          <label className=\"label\">\n            Name\n            <input\n              className=\"input\"\n              placeholder=\"Enter your name\"\n              type=\"text\"\n              value={displayName}\n              onChange={onHandleChange}\n              name=\"displayName\"\n            />\n          </label>\n        )}\n        <label className=\"label\">\n          Email\n          <input\n            className=\"input\"\n            type=\"text\"\n            value={email}\n            onChange={onHandleChange}\n            name=\"email\"\n            placeholder=\"Enter email\"\n          />\n        </label>\n        <label className=\"label\">\n          Password\n          <input\n            className=\"input\"\n            type=\"text\"\n            value={password}\n            onChange={onHandleChange}\n            name=\"password\"\n            placeholder=\"Enter password\"\n          />\n        </label>\n        <button className=\"title\" type=\"submit\">\n          {location.pathname === \"/registration\" ? \"Sign up\" : \"Sign in\"}\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default AuthForm;\n","import React, { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router\";\nimport { signUpError } from \"../../redux/auth/authActions\";\n// import { signUpError } from \"../../redux/auth/authActions\";\nimport {\n  signInOperation,\n  signUpOperation,\n} from \"../../redux/auth/authOperations\";\nimport { errorSelector, loaderSelector } from \"../../redux/auth/authSelectors\";\nimport AuthForm from \"./authForm/AuthForm\";\n\nconst Auth = () => {\n  const dispatch = useDispatch();\n  const error = useSelector(errorSelector);\n  const loader = useSelector(loaderSelector);\n  const location = useLocation();\n  const signUp = (user) => dispatch(signUpOperation(user));\n  const signIn = (user) => dispatch(signInOperation(user));\n  const resetError = useCallback(() => dispatch(signUpError(\"\")), [dispatch]);\n\n  useEffect(() => {\n    resetError();\n  }, [location, resetError]);\n  return (\n    <>\n      <AuthForm signUp={signUp} signIn={signIn} />\n      {error && <h2>{error}</h2>}\n      {loader && <h2>...loading</h2>}\n    </>\n  );\n};\n\nexport default Auth;\n","import axios from \"axios\";\nimport {\n  signInError,\n  signInRequest,\n  signInSuccess,\n  signUpError,\n  signUpRequest,\n  signUpSuccess,\n} from \"./authActions\";\n\nconst signUpOperation = (user) => async (dispatch) => {\n  dispatch(signUpRequest());\n  try {\n    const response = await axios.post(process.env.REACT_APP_SIGNUP_URL, {\n      ...user,\n      returnSecureToken: true,\n    });\n    dispatch(signUpSuccess(response.data));\n  } catch (error) {\n    dispatch(signUpError(error.response.data.error.message));\n  }\n};\n\nconst signInOperation = (user) => async (dispatch) => {\n  dispatch(signInRequest());\n  try {\n    const response = await axios.post(process.env.REACT_APP_SIGNIN_URL, {\n      ...user,\n      returnSecureToken: true,\n    });\n    dispatch(signInSuccess(response.data));\n  } catch (error) {\n    dispatch(signInError(error.response.data.error.message));\n  }\n};\n\nexport { signUpOperation, signInOperation };\n","import React from \"react\";\nimport Auth from \"../Components/auth/Auth.js\";\n\nconst AuthPage = () => {\n  return <Auth />;\n};\n\nexport default AuthPage;\n"],"sourceRoot":""}