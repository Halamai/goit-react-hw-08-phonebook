{"version":3,"sources":["redux/auth/authSelectors.js","redux/contacts/contactsOperations.js","redux/auth/authActions.js","redux/contacts/actions.js","Components/navigation/NavigatioonItem.js","Components/navigation/NavigationStyled.js","routes/MainRoutes.js","Components/navigation/Navigation.js","Components/header/HeaderStyled.js","Components/header/Header.js","routes/PublikRoute.js","routes/PrivateRoute.js","Components/main/MainStyled.js","Components/main/Main.js","Components/App.js","redux/contacts/redusers.js","redux/auth/authReducers.js","redux/store.js","index.js"],"names":["errorSelector","state","authorization","error","loaderSelector","isLoading","isAuthSelector","tokens","addContactsOperation","form","dispatch","getState","a","localId","idToken","setLoaderOn","axios","post","response","addNewContact","id","data","name","setError","message","setLoaderOff","getAllContactsOperation","get","contacts","Object","keys","map","key","getAllContacts","removeContactOperation","delete","removeContact","signUpRequest","createAction","signUpSuccess","signUpError","signInRequest","signInSuccess","signInError","signOutRequest","signOutSuccess","signOutError","contact","payload","setFilter","createReducer","NavigatioonItem","path","exact","isRestricted","isPrivate","isAuth","className","to","activeClassName","NavigationContainer","styled","nav","mainRoutes","component","lazy","Navigation","routes","useSelector","useDispatch","onClick","HeaderContainer","header","Header","userEmail","user","email","PublikRoute","PrivateRoute","MainContainer","main","Main","fallback","App","useEffect","itemsRedusers","action","_","filter","contactLoaderReducer","filterReduser","errorReducer","contactsReduser","combineReducers","items","authUserReducer","displayName","authTokensReducer","refreshToken","authLoaderReducer","authErrorReducer","authReducer","persistConfig","storage","whitelist","rootReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistStore","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.77755dcd.chunk.js","sourcesContent":["export const errorSelector = (state) => state.authorization.error;\r\nexport const loaderSelector = (state) => state.authorization.isLoading;\r\nexport const isAuthSelector = (state) => state.authorization.tokens;\r\n","import axios from \"axios\";\r\nimport {\r\n  addNewContact,\r\n  getAllContacts,\r\n  removeContact,\r\n  setError,\r\n  // setLoader,\r\n  setLoaderOff,\r\n  setLoaderOn,\r\n} from \"./actions\";\r\n\r\nconst addContactsOperation = (form) => async (dispatch, getState) => {\r\n  const localId = getState().authorization.tokens.localId;\r\n  const idToken = getState().authorization.tokens.idToken;\r\n  dispatch(setLoaderOn());\r\n  try {\r\n    const response = await axios.post(\r\n      `https://homework07-e8e46-default-rtdb.firebaseio.com/${localId}/contacts.json?auth=${idToken}`,\r\n      form\r\n    );\r\n\r\n    dispatch(addNewContact({ ...form, id: response.data.name }));\r\n  } catch (error) {\r\n    dispatch(setError(error.message));\r\n  } finally {\r\n    dispatch(setLoaderOff());\r\n  }\r\n};\r\n\r\nconst getAllContactsOperation = () => async (dispatch, getState) => {\r\n  const localId = getState().authorization.tokens.localId;\r\n  const idToken = getState().authorization.tokens.idToken;\r\n  dispatch(setLoaderOn());\r\n  try {\r\n    const response = await axios.get(\r\n      `https://homework07-e8e46-default-rtdb.firebaseio.com/${localId}/contacts.json?auth=${idToken}`\r\n    );\r\n    if (response.data) {\r\n      const contacts = Object.keys(response.data).map((key) => ({\r\n        id: key,\r\n        ...response.data[key],\r\n      }));\r\n      dispatch(getAllContacts(contacts));\r\n    }\r\n  } catch (error) {\r\n    dispatch(setError(error.message));\r\n  } finally {\r\n    dispatch(setLoaderOff());\r\n  }\r\n};\r\nconst removeContactOperation = (id) => async (dispatch, getState) => {\r\n  const localId = getState().authorization.tokens.localId;\r\n  const idToken = getState().authorization.tokens.idToken;\r\n  dispatch(setLoaderOn());\r\n  try {\r\n    await axios.delete(\r\n      `https://homework07-e8e46-default-rtdb.firebaseio.com/${localId}/contacts/${id}.json?auth=${idToken}`\r\n    );\r\n\r\n    dispatch(removeContact(id));\r\n  } catch (error) {\r\n    dispatch(setError(error.message));\r\n  } finally {\r\n    dispatch(setLoaderOff());\r\n  }\r\n};\r\n\r\nexport {\r\n  addContactsOperation,\r\n  getAllContactsOperation,\r\n  removeContactOperation,\r\n};\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\nconst SIGNOUTREQUEST = \"auth/signOutRequest\";\r\nconst SIGNOUTSUCCESS = \"auth/signOutSuccess\";\r\nconst SIGNOUTERROR = \"auth/signOutError\";\r\n\r\nexport const signUpRequest = createAction(\"auth/signUpRequest\");\r\nexport const signUpSuccess = createAction(\"auth/signUpSuccess\");\r\nexport const signUpError = createAction(\"auth/signUpError\");\r\n\r\nexport const signInRequest = createAction(\"auth/signInRequest\");\r\nexport const signInSuccess = createAction(\"auth/signInSuccess\");\r\nexport const signInError = createAction(\"auth/signInError\");\r\n\r\nexport const signOutRequest = createAction(SIGNOUTREQUEST);\r\nexport const signOutSuccess = createAction(SIGNOUTSUCCESS);\r\nexport const signOutError = createAction(SIGNOUTERROR);\r\n","import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\nexport const addNewContact = createAction(\r\n  \"contacts/addNewContact\",\r\n  (contact) => {\r\n    return { payload: contact };\r\n  }\r\n);\r\nexport const getAllContacts = createAction(\"contacts/getContacts\");\r\nexport const removeContact = createAction(\"contacts/removeContact\");\r\nexport const setFilter = createAction(\"contacts/setFilter\");\r\nexport const setLoaderOn = createAction(\"contacts/setLoaderOn\");\r\nexport const setLoaderOff = createAction(\"contacts/setLoaderOff\");\r\nexport const setError = createReducer(\"contacts/setError\");\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nconst NavigatioonItem = ({\r\n  name,\r\n  path,\r\n  exact,\r\n  isRestricted,\r\n  isPrivate,\r\n  isAuth,\r\n}) => {\r\n  return (\r\n    <>\r\n      {!isPrivate && !isRestricted && (\r\n        <li className=\"navItem\">\r\n          <NavLink\r\n            to={path}\r\n            exact={exact}\r\n            className=\"navLink\"\r\n            activeClassName=\"activeNavLink\"\r\n          >\r\n            {name}\r\n          </NavLink>\r\n        </li>\r\n      )}\r\n      {isPrivate && !isRestricted && isAuth && (\r\n        <li className=\"navItem\">\r\n          <NavLink\r\n            to={path}\r\n            exact={exact}\r\n            className=\"navLink\"\r\n            activeClassName=\"activeNavLink\"\r\n          >\r\n            {name}\r\n          </NavLink>\r\n        </li>\r\n      )}\r\n      {!isPrivate && isRestricted && !isAuth && (\r\n        <li className=\"navItem\">\r\n          <NavLink\r\n            to={path}\r\n            exact={exact}\r\n            className=\"navLink\"\r\n            activeClassName=\"activeNavLink\"\r\n          >\r\n            {name}\r\n          </NavLink>\r\n        </li>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavigatioonItem;\r\n","import styled from \"styled-components\";\r\n\r\nexport const NavigationContainer = styled.nav`\r\n  .navList {\r\n    list-style: none;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: 60px;\r\n  }\r\n  .navItem:not(:last-child) {\r\n    margin-right: 20px;\r\n  }\r\n  .navLink {\r\n    text-decoration: none;\r\n    text-transform: uppercase;\r\n    color: #daa67b;\r\n  }\r\n  .activeNavLink {\r\n    color: #5fa15f;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import { lazy } from \"react\";\r\n\r\nexport const mainRoutes = [\r\n  {\r\n    name: \"Home\",\r\n    path: \"/\",\r\n    exact: true,\r\n    component: lazy(() =>\r\n      import(\"../pages/HomePage\" /* webpackChunkName:\"HomePage\" */)\r\n    ),\r\n    isRestricted: false,\r\n    isPrivate: false,\r\n  },\r\n  {\r\n    name: \"Phonebook\",\r\n    path: \"/contacts\",\r\n    exact: true,\r\n    component: lazy(() =>\r\n      import(\"../pages/PhonePage\" /* webpackChunkName:\"PhonesPage\" */)\r\n    ),\r\n    isPrivate: true,\r\n    isRestricted: false,\r\n  },\r\n  {\r\n    name: \"Sing Up\",\r\n    path: \"/registration\",\r\n    exact: true,\r\n    component: lazy(() =>\r\n      import(\"../pages/AuthPage\" /* webpackChunkName:\"AuthPage\" */)\r\n    ),\r\n    isPrivate: false,\r\n    isRestricted: true,\r\n  },\r\n  {\r\n    name: \"Sign in\",\r\n    path: \"/login\",\r\n    exact: true,\r\n    component: lazy(() =>\r\n      import(\"../pages/AuthPage\" /* webpackChunkName:\"AuthPage\" */)\r\n    ),\r\n    isPrivate: false,\r\n    isRestricted: true,\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport NavigatioonItem from \"./NavigatioonItem\";\r\nimport { signOutSuccess } from \"../../redux/auth/authActions\";\r\nimport { NavigationContainer } from \"./NavigationStyled\";\r\nimport { mainRoutes } from \"../../routes/MainRoutes\";\r\nimport { isAuthSelector } from \"../../redux/auth/authSelectors\";\r\n\r\nconst Navigation = ({ routes = mainRoutes }) => {\r\n  const isAuth = useSelector(isAuthSelector);\r\n  const dispatch = useDispatch();\r\n  const signOut = () => dispatch(signOutSuccess());\r\n  return (\r\n    <NavigationContainer>\r\n      <ul className=\"navList\">\r\n        {routes.map(({ name, path, exact, isPrivate, isRestricted }) => (\r\n          <NavigatioonItem\r\n            key={path}\r\n            name={name}\r\n            path={path}\r\n            exact={exact}\r\n            isPrivate={isPrivate}\r\n            isRestricted={isRestricted}\r\n            isAuth={isAuth}\r\n          />\r\n        ))}\r\n\r\n        {isAuth && (\r\n          <li className=\"navLink\" onClick={signOut}>\r\n            <span>Sign Out</span>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </NavigationContainer>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import styled from \"styled-components\";\r\n\r\nexport const HeaderContainer = styled.header`\r\n  height: 60px;\r\n  width: 100%;\r\n  background-color: #3a3a3a;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 40px;\r\n  border-bottom: 1px solid #5fa15f;\r\n  .title {\r\n    color: #5fa15f;\r\n  }\r\n\r\n  .activeNavLink {\r\n    color: #5fa15f;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Navigation from \"../navigation/Navigation.js\";\r\nimport { HeaderContainer } from \"./HeaderStyled.js\";\r\nconst Header = () => {\r\n  const userEmail = useSelector((state) => state.authorization.user?.email);\r\n  return (\r\n    <HeaderContainer>\r\n      <h2 className=\"activeNavLink\">Phonebook tracker</h2>\r\n      {userEmail && <h3 className=\"title\">{userEmail}</h3>}\r\n      <Navigation />\r\n    </HeaderContainer>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst PublikRoute = ({ path, exact, component, isAuth, isRestricted }) => {\r\n  return isAuth && isRestricted ? (\r\n    <Redirect to=\"/contacts\" />\r\n  ) : (\r\n    <Route path={path} exact={exact} component={component} />\r\n  );\r\n};\r\n\r\nexport default PublikRoute;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router\";\r\n\r\nconst PrivateRoute = ({ path, exact, component, isAuth }) => {\r\n  return isAuth ? (\r\n    <Route path={path} exact={exact} component={component} />\r\n  ) : (\r\n    <Redirect to=\"/login\" />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import styled from \"styled-components\";\r\nexport const MainContainer = styled.main`\r\n  height: 100vh;\r\n  width: 100%;\r\n  background-color: #4d4848;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  text-align: center;\r\n  justify-content: center;\r\n  padding: 40px 40px;\r\n  margin: 0 auto;\r\n  .title {\r\n    color: #5fa15f;\r\n  }\r\n`;\r\n","import React, { Suspense } from \"react\";\r\nimport { Switch } from \"react-router\";\r\nimport PublikRoute from \"../../routes/PublikRoute.js\";\r\nimport PrivateRoute from \"../../routes/PrivateRoute.js\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { isAuthSelector } from \"../../redux/auth/authSelectors\";\r\nimport { mainRoutes } from \"../../routes/MainRoutes.js\";\r\nimport { MainContainer } from \"./MainStyled.js\";\r\n\r\nconst Main = () => {\r\n  const isAuth = useSelector(isAuthSelector);\r\n  return (\r\n    <MainContainer>\r\n      <main>\r\n        <Suspense fallback={<h2>...loading</h2>}>\r\n          <Switch>\r\n            {mainRoutes.map(\r\n              ({ path, exact, component, isPrivate, isRestricted }) =>\r\n                isPrivate ? (\r\n                  <PrivateRoute\r\n                    path={path}\r\n                    exact={exact}\r\n                    component={component}\r\n                    isAuth={isAuth}\r\n                    key={path}\r\n                  />\r\n                ) : (\r\n                  <PublikRoute\r\n                    path={path}\r\n                    exact={exact}\r\n                    component={component}\r\n                    isAuth={isAuth}\r\n                    key={path}\r\n                    isRestricted={isRestricted}\r\n                  />\r\n                )\r\n            )}\r\n          </Switch>\r\n        </Suspense>\r\n      </main>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getAllContactsOperation } from \"../redux/contacts/contactsOperations\";\r\nimport Header from \"./header/Header.js\";\r\nimport Main from \"./main/Main.js\";\r\n\r\n// import ContactForm from \"./contactForm/ContactForm\";\r\n// import ContactList from \"./contactList/ContactList\";\r\n// import Filter from \"./filter/Filter\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n  const isAuth = useSelector((state) => state.authorization.tokens);\r\n\r\n  useEffect(() => {\r\n    isAuth && dispatch(getAllContactsOperation());\r\n  }, [dispatch, isAuth]);\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Main />\r\n    </>\r\n  );\r\n};\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\n\r\nimport {\r\n  getAllContacts,\r\n  addNewContact,\r\n  removeContact,\r\n  setFilter,\r\n  setLoaderOn,\r\n  setError,\r\n  setLoaderOff,\r\n} from \"./actions\";\r\nimport { signOutSuccess } from \"../auth/authActions\";\r\n\r\nconst itemsRedusers = createReducer([], {\r\n  [addNewContact]: (state, action) => [...state, action.payload],\r\n  [getAllContacts]: (_, action) => action.payload,\r\n  [removeContact]: (state, action) =>\r\n    state.filter((contact) => contact.id !== action.payload),\r\n  [signOutSuccess]: () => [],\r\n});\r\n\r\nconst contactLoaderReducer = createReducer(false, {\r\n  [setLoaderOn]: () => true,\r\n  [signOutSuccess]: () => false,\r\n  [setLoaderOff]: () => false,\r\n});\r\n\r\nconst filterReduser = createReducer(\"\", {\r\n  [setFilter]: (_, action) => action.payload,\r\n  [signOutSuccess]: () => \"\",\r\n});\r\nconst errorReducer = createReducer(\"\", {\r\n  [setError]: (_, action) => action.payload,\r\n  [signOutSuccess]: () => \"\",\r\n});\r\n\r\nexport const contactsReduser = combineReducers({\r\n  items: itemsRedusers,\r\n  filter: filterReduser,\r\n  isLoading: contactLoaderReducer,\r\n  error: errorReducer,\r\n});\r\n","import { createReducer, combineReducers } from \"@reduxjs/toolkit\";\r\nimport {\r\n  signInError,\r\n  signInRequest,\r\n  signInSuccess,\r\n  signOutError,\r\n  signOutRequest,\r\n  signOutSuccess,\r\n  signUpError,\r\n  signUpRequest,\r\n  signUpSuccess,\r\n} from \"./authActions\";\r\n\r\nconst authUserReducer = createReducer(null, {\r\n  [signUpSuccess]: (_, action) => ({\r\n    displayName: action.payload.displayName,\r\n    email: action.payload.email,\r\n  }),\r\n  [signInSuccess]: (_, action) => ({\r\n    displayName: action.payload.displayName,\r\n    email: action.payload.email,\r\n  }),\r\n  [signOutSuccess]: () => null,\r\n});\r\n\r\nconst authTokensReducer = createReducer(null, {\r\n  [signUpSuccess]: (_, action) => ({\r\n    idToken: action.payload.idToken,\r\n    refreshToken: action.payload.refreshToken,\r\n    localId: action.payload.localId,\r\n  }),\r\n  [signInSuccess]: (_, action) => ({\r\n    idToken: action.payload.idToken,\r\n    refreshToken: action.payload.refreshToken,\r\n    localId: action.payload.localId,\r\n  }),\r\n  [signOutSuccess]: () => null,\r\n});\r\n\r\nconst authLoaderReducer = createReducer(false, {\r\n  [signUpRequest]: () => true,\r\n  [signUpSuccess]: () => false,\r\n  [signUpError]: () => false,\r\n  [signInRequest]: () => true,\r\n  [signInSuccess]: () => false,\r\n  [signInError]: () => false,\r\n  [signOutRequest]: () => true,\r\n  [signOutSuccess]: () => false,\r\n  [signOutError]: () => false,\r\n});\r\n\r\nconst authErrorReducer = createReducer(\"\", {\r\n  [signUpError]: (_, action) => action.payload,\r\n  [signInError]: (_, action) => action.payload,\r\n  [signOutError]: (_, action) => action.payload,\r\n  [signOutSuccess]: () => \"\",\r\n});\r\n\r\nexport const authReducer = combineReducers({\r\n  user: authUserReducer,\r\n  tokens: authTokensReducer,\r\n  isLoading: authLoaderReducer,\r\n  error: authErrorReducer,\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\nimport { contactsReduser } from \"./contacts/redusers\";\r\nimport { authReducer } from \"./auth/authReducers\";\r\nimport {\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\n\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"tokens\", \"user\"],\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  contacts: contactsReduser,\r\n  authorization: persistReducer(persistConfig, authReducer),\r\n});\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n});\r\npersistStore(store);\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDom from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n// import { PersistGate } from \"redux-persist/integration/react\";\r\nimport App from \"./Components/App\";\r\nimport store from \"./redux/store\";\r\n// import { store, persistor } from \"./redux/store\";\r\n\r\nReactDom.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}