(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{24:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return o}));const a=t=>t.authorization.error,c=t=>t.authorization.isLoading,o=t=>t.authorization.tokens},3:function(t,e,n){"use strict";n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return o})),n.d(e,"g",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return u}));var a=n(2);const c=Object(a.b)("auth/signUpRequest"),o=Object(a.b)("auth/signUpSuccess"),i=Object(a.b)("auth/signUpError"),s=Object(a.b)("auth/signInRequest"),r=Object(a.b)("auth/signInSuccess"),l=Object(a.b)("auth/signInError"),b=Object(a.b)("auth/signOutRequest"),d=Object(a.b)("auth/signOutSuccess"),u=Object(a.b)("auth/signOutError")},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return l}));var a=n(25),c=n(26),o=n.n(c),i=n(6);const s=t=>async(e,n)=>{const c=n().authorization.tokens.localId,s=n().authorization.tokens.idToken;e(Object(i.g)());try{const n=await o.a.post("https://homework07-e8e46-default-rtdb.firebaseio.com/".concat(c,"/contacts.json?auth=").concat(s),t);e(Object(i.a)(Object(a.a)(Object(a.a)({},t),{},{id:n.data.name})))}catch(r){e(Object(i.d)(r.message))}finally{e(Object(i.f)())}},r=()=>async(t,e)=>{const n=e().authorization.tokens.localId,c=e().authorization.tokens.idToken;t(Object(i.g)());try{const e=await o.a.get("https://homework07-e8e46-default-rtdb.firebaseio.com/".concat(n,"/contacts.json?auth=").concat(c));if(e.data){const n=Object.keys(e.data).map((t=>Object(a.a)({id:t},e.data[t])));t(Object(i.b)(n))}}catch(s){t(Object(i.d)(s.message))}finally{t(Object(i.f)())}},l=t=>async(e,n)=>{const a=n().authorization.tokens.localId,c=n().authorization.tokens.idToken;e(Object(i.g)());try{await o.a.delete("https://homework07-e8e46-default-rtdb.firebaseio.com/".concat(a,"/contacts/").concat(t,".json?auth=").concat(c)),e(Object(i.c)(t))}catch(s){e(Object(i.d)(s.message))}finally{e(Object(i.f)())}}},6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return r})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return b}));var a=n(2);const c=Object(a.b)("contacts/addNewContact",(t=>({payload:t}))),o=Object(a.b)("contacts/getContacts"),i=Object(a.b)("contacts/removeContact"),s=Object(a.b)("contacts/setFilter"),r=Object(a.b)("contacts/setLoaderOn"),l=Object(a.b)("contacts/setLoaderOff"),b=Object(a.c)("contacts/setError")},82:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(23),o=n.n(c),i=n(11),s=n(16),r=n(32),l=n(1);var b,d=t=>{let{name:e,path:n,exact:a,isRestricted:c,isPrivate:o,isAuth:i}=t;return Object(l.jsxs)(l.Fragment,{children:[!o&&!c&&Object(l.jsx)("li",{className:"navItem",children:Object(l.jsx)(s.b,{to:n,exact:a,className:"navLink",activeClassName:"activeNavLink",children:e})}),o&&!c&&i&&Object(l.jsx)("li",{className:"navItem",children:Object(l.jsx)(s.b,{to:n,exact:a,className:"navLink",activeClassName:"activeNavLink",children:e})}),!o&&c&&!i&&Object(l.jsx)("li",{className:"navItem",children:Object(l.jsx)(s.b,{to:n,exact:a,className:"navLink",activeClassName:"activeNavLink",children:e})})]})},u=n(3),j=n(18),h=n(19);const O=h.a.nav(b||(b=Object(j.a)(["\n  .navList {\n    list-style: none;\n    display: flex;\n    align-items: center;\n    margin-right: 60px;\n  }\n  .navItem:not(:last-child) {\n    margin-right: 20px;\n  }\n  .navLink {\n    text-decoration: none;\n    text-transform: uppercase;\n    color: #daa67b;\n  }\n  .activeNavLink {\n    color: #5fa15f;\n    cursor: pointer;\n  }\n"]))),p=[{name:"Home",path:"/",exact:!0,component:Object(a.lazy)((()=>n.e(2).then(n.bind(null,135)))),isRestricted:!1,isPrivate:!1},{name:"Phonebook",path:"/contacts",exact:!0,component:Object(a.lazy)((()=>n.e(3).then(n.bind(null,137)))),isPrivate:!0,isRestricted:!1},{name:"Sing Up",path:"/registration",exact:!0,component:Object(a.lazy)((()=>n.e(0).then(n.bind(null,138)))),isPrivate:!1,isRestricted:!0},{name:"Sign in",path:"/login",exact:!0,component:Object(a.lazy)((()=>n.e(0).then(n.bind(null,138)))),isPrivate:!1,isRestricted:!0},{name:"Contact",path:"/contact",exact:!0,component:Object(a.lazy)((()=>Promise.all([n.e(7),n.e(1)]).then(n.bind(null,136)))),isPrivate:!1,isRestricted:!1}];var f=n(24);var m,x=t=>{let{routes:e=p}=t;const n=Object(i.c)(f.b),a=Object(i.b)();return Object(l.jsx)(O,{children:Object(l.jsxs)("ul",{className:"navList",children:[e.map((t=>{let{name:e,path:a,exact:c,isPrivate:o,isRestricted:i}=t;return Object(l.jsx)(d,{name:e,path:a,exact:c,isPrivate:o,isRestricted:i,isAuth:n},a)})),n&&Object(l.jsx)("li",{className:"navLink",onClick:()=>a(Object(u.f)()),children:Object(l.jsx)("span",{children:"Sign Out"})})]})})};const g=h.a.header(m||(m=Object(j.a)(["\n  height: 60px;\n  width: 100%;\n  background-color: #3a3a3a;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 40px;\n  border-bottom: 1px solid #5fa15f;\n  .title {\n    color: #5fa15f;\n  }\n\n  .activeNavLink {\n    color: #5fa15f;\n    cursor: pointer;\n  }\n"])));var v=()=>{const t=Object(i.c)((t=>{var e;return null===(e=t.authorization.user)||void 0===e?void 0:e.email}));return Object(l.jsxs)(g,{children:[Object(l.jsx)("h2",{className:"activeNavLink",children:"Phonebook tracker"}),t&&Object(l.jsx)("h3",{className:"title",children:t}),Object(l.jsx)(x,{})]})},k=n(5);var y=t=>{let{path:e,exact:n,component:a,isAuth:c,isRestricted:o}=t;return c&&o?Object(l.jsx)(k.a,{to:"/contacts"}):Object(l.jsx)(k.b,{path:e,exact:n,component:a})};var N,z=t=>{let{path:e,exact:n,component:a,isAuth:c}=t;return c?Object(l.jsx)(k.b,{path:e,exact:n,component:a}):Object(l.jsx)(k.a,{to:"/login"})};const L=h.a.main(N||(N=Object(j.a)(["\n  height: 100vh;\n  width: 100%;\n  background-color: #4d4848;\n  justify-content: space-between;\n  align-items: center;\n  text-align: center;\n  justify-content: center;\n  padding: 40px 40px;\n  margin: 0 auto;\n  .title {\n    color: #5fa15f;\n  }\n"])));var w=()=>{const t=Object(i.c)(f.b);return Object(l.jsx)(L,{children:Object(l.jsx)("main",{children:Object(l.jsx)(a.Suspense,{fallback:Object(l.jsx)("h2",{children:"...loading"}),children:Object(l.jsx)(k.d,{children:p.map((e=>{let{path:n,exact:a,component:c,isPrivate:o,isRestricted:i}=e;return o?Object(l.jsx)(z,{path:n,exact:a,component:c,isAuth:t},n):Object(l.jsx)(y,{path:n,exact:a,component:c,isAuth:t,isRestricted:i},n)}))})})})})};var I=()=>{const t=Object(i.b)(),e=Object(i.c)((t=>t.authorization.tokens));return Object(a.useEffect)((()=>{e&&t(Object(r.b)())}),[t,e]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(v,{}),Object(l.jsx)(w,{})]})},R=n(7),P=n(2),T=n(6);const C=Object(P.c)([],{[T.a]:(t,e)=>[...t,e.payload],[T.b]:(t,e)=>e.payload,[T.c]:(t,e)=>t.filter((t=>t.id!==e.payload)),[u.f]:()=>[]}),A=Object(P.c)(!1,{[T.g]:()=>!0,[u.f]:()=>!1,[T.f]:()=>!1}),S=Object(P.c)("",{[T.e]:(t,e)=>e.payload,[u.f]:()=>""}),E=Object(P.c)("",{[T.d]:(t,e)=>e.payload,[u.f]:()=>"",[T.a]:()=>"",[T.b]:()=>"",[T.c]:()=>""}),U=Object(R.b)({items:C,filter:S,isLoading:A,error:E}),q=Object(P.c)(null,{[u.i]:(t,e)=>({displayName:e.payload.displayName,email:e.payload.email}),[u.c]:(t,e)=>({displayName:e.payload.displayName,email:e.payload.email}),[u.f]:()=>null}),F=Object(P.c)(null,{[u.i]:(t,e)=>({idToken:e.payload.idToken,refreshToken:e.payload.refreshToken,localId:e.payload.localId}),[u.c]:(t,e)=>({idToken:e.payload.idToken,refreshToken:e.payload.refreshToken,localId:e.payload.localId}),[u.f]:()=>null}),J=Object(P.c)(!1,{[u.h]:()=>!0,[u.i]:()=>!1,[u.g]:()=>!1,[u.b]:()=>!0,[u.c]:()=>!1,[u.a]:()=>!1,[u.e]:()=>!0,[u.f]:()=>!1,[u.d]:()=>!1}),B=Object(P.c)("",{[u.g]:(t,e)=>e.payload,[u.a]:(t,e)=>e.payload,[u.d]:(t,e)=>e.payload,[u.f]:()=>"",[u.h]:()=>"",[u.b]:()=>""}),H=Object(R.b)({user:q,tokens:F,isLoading:J,error:B});var D=n(14),G=n(47);const K={key:"root",storage:n.n(G).a,whitelist:["tokens","user"]},M=Object(R.b)({contacts:U,authorization:Object(D.g)(K,H)}),Q=Object(P.a)({reducer:M,middleware:t=>t({serializableCheck:{ignoredActions:[D.a,D.f,D.b,D.c,D.d,D.e]}})});Object(D.h)(Q);var V=Q;o.a.render(Object(l.jsx)(i.a,{store:V,children:Object(l.jsx)(s.a,{children:Object(l.jsx)(I,{})})}),document.getElementById("root"))}},[[82,5,6]]]);
//# sourceMappingURL=main.4915a69f.chunk.js.map