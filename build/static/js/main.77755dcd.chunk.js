(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{28:function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"c",(function(){return a})),e.d(n,"b",(function(){return r}));var c=function(t){return t.authorization.error},a=function(t){return t.authorization.isLoading},r=function(t){return t.authorization.tokens}},36:function(t,n,e){"use strict";e.d(n,"a",(function(){return b})),e.d(n,"b",(function(){return j})),e.d(n,"c",(function(){return d}));var c=e(18),a=e.n(c),r=e(27),i=e(29),o=e(30),u=e.n(o),s=e(7),b=function(t){return function(){var n=Object(i.a)(a.a.mark((function n(e,c){var i,o,b;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=c().authorization.tokens.localId,o=c().authorization.tokens.idToken,e(Object(s.g)()),n.prev=3,n.next=6,u.a.post("https://homework07-e8e46-default-rtdb.firebaseio.com/".concat(i,"/contacts.json?auth=").concat(o),t);case 6:b=n.sent,e(Object(s.a)(Object(r.a)(Object(r.a)({},t),{},{id:b.data.name}))),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),e(Object(s.d)(n.t0.message));case 13:return n.prev=13,e(Object(s.f)()),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[3,10,13,16]])})));return function(t,e){return n.apply(this,arguments)}}()},j=function(){return function(){var t=Object(i.a)(a.a.mark((function t(n,e){var c,i,o,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e().authorization.tokens.localId,i=e().authorization.tokens.idToken,n(Object(s.g)()),t.prev=3,t.next=6,u.a.get("https://homework07-e8e46-default-rtdb.firebaseio.com/".concat(c,"/contacts.json?auth=").concat(i));case 6:(o=t.sent).data&&(b=Object.keys(o.data).map((function(t){return Object(r.a)({id:t},o.data[t])})),n(Object(s.b)(b))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(Object(s.d)(t.t0.message));case 13:return t.prev=13,n(Object(s.f)()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,10,13,16]])})));return function(n,e){return t.apply(this,arguments)}}()},d=function(t){return function(){var n=Object(i.a)(a.a.mark((function n(e,c){var r,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c().authorization.tokens.localId,i=c().authorization.tokens.idToken,e(Object(s.g)()),n.prev=3,n.next=6,u.a.delete("https://homework07-e8e46-default-rtdb.firebaseio.com/".concat(r,"/contacts/").concat(t,".json?auth=").concat(i));case 6:e(Object(s.c)(t)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),e(Object(s.d)(n.t0.message));case 12:return n.prev=12,e(Object(s.f)()),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[3,9,12,15]])})));return function(t,e){return n.apply(this,arguments)}}()}},5:function(t,n,e){"use strict";e.d(n,"h",(function(){return a})),e.d(n,"i",(function(){return r})),e.d(n,"g",(function(){return i})),e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){return s})),e.d(n,"e",(function(){return b})),e.d(n,"f",(function(){return j})),e.d(n,"d",(function(){return d}));var c=e(3),a=Object(c.b)("auth/signUpRequest"),r=Object(c.b)("auth/signUpSuccess"),i=Object(c.b)("auth/signUpError"),o=Object(c.b)("auth/signInRequest"),u=Object(c.b)("auth/signInSuccess"),s=Object(c.b)("auth/signInError"),b=Object(c.b)("auth/signOutRequest"),j=Object(c.b)("auth/signOutSuccess"),d=Object(c.b)("auth/signOutError")},7:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return i})),e.d(n,"e",(function(){return o})),e.d(n,"g",(function(){return u})),e.d(n,"f",(function(){return s})),e.d(n,"d",(function(){return b}));var c=e(3),a=Object(c.b)("contacts/addNewContact",(function(t){return{payload:t}})),r=Object(c.b)("contacts/getContacts"),i=Object(c.b)("contacts/removeContact"),o=Object(c.b)("contacts/setFilter"),u=Object(c.b)("contacts/setLoaderOn"),s=Object(c.b)("contacts/setLoaderOff"),b=Object(c.c)("contacts/setError")},89:function(t,n,e){"use strict";e.r(n);var c,a,r,i,o,u,s,b,j,d,l,f=e(0),O=e(26),h=e.n(O),p=e(12),m=e(17),v=e(36),x=e(1),g=function(t){var n=t.name,e=t.path,c=t.exact,a=t.isRestricted,r=t.isPrivate,i=t.isAuth;return Object(x.jsxs)(x.Fragment,{children:[!r&&!a&&Object(x.jsx)("li",{className:"navItem",children:Object(x.jsx)(m.b,{to:e,exact:c,className:"navLink",activeClassName:"activeNavLink",children:n})}),r&&!a&&i&&Object(x.jsx)("li",{className:"navItem",children:Object(x.jsx)(m.b,{to:e,exact:c,className:"navLink",activeClassName:"activeNavLink",children:n})}),!r&&a&&!i&&Object(x.jsx)("li",{className:"navItem",children:Object(x.jsx)(m.b,{to:e,exact:c,className:"navLink",activeClassName:"activeNavLink",children:n})})]})},k=e(5),y=e(20),N=e(21),w=N.a.nav(c||(c=Object(y.a)(["\n  .navList {\n    list-style: none;\n    display: flex;\n    align-items: center;\n    margin-right: 60px;\n  }\n  .navItem:not(:last-child) {\n    margin-right: 20px;\n  }\n  .navLink {\n    text-decoration: none;\n    text-transform: uppercase;\n    color: #daa67b;\n  }\n  .activeNavLink {\n    color: #5fa15f;\n    cursor: pointer;\n  }\n"]))),L=[{name:"Home",path:"/",exact:!0,component:Object(f.lazy)((function(){return e.e(1).then(e.bind(null,93))})),isRestricted:!1,isPrivate:!1},{name:"Phonebook",path:"/contacts",exact:!0,component:Object(f.lazy)((function(){return e.e(2).then(e.bind(null,94))})),isPrivate:!0,isRestricted:!1},{name:"Sing Up",path:"/registration",exact:!0,component:Object(f.lazy)((function(){return e.e(0).then(e.bind(null,95))})),isPrivate:!1,isRestricted:!0},{name:"Sign in",path:"/login",exact:!0,component:Object(f.lazy)((function(){return e.e(0).then(e.bind(null,95))})),isPrivate:!1,isRestricted:!0}],z=e(28),I=function(t){var n=t.routes,e=void 0===n?L:n,c=Object(p.c)(z.b),a=Object(p.b)();return Object(x.jsx)(w,{children:Object(x.jsxs)("ul",{className:"navList",children:[e.map((function(t){var n=t.name,e=t.path,a=t.exact,r=t.isPrivate,i=t.isRestricted;return Object(x.jsx)(g,{name:n,path:e,exact:a,isPrivate:r,isRestricted:i,isAuth:c},e)})),c&&Object(x.jsx)("li",{className:"navLink",onClick:function(){return a(Object(k.f)())},children:Object(x.jsx)("span",{children:"Sign Out"})})]})})},R=N.a.header(a||(a=Object(y.a)(["\n  height: 60px;\n  width: 100%;\n  background-color: #3a3a3a;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 40px;\n  border-bottom: 1px solid #5fa15f;\n  .title {\n    color: #5fa15f;\n  }\n\n  .activeNavLink {\n    color: #5fa15f;\n    cursor: pointer;\n  }\n"]))),T=function(){var t=Object(p.c)((function(t){var n;return null===(n=t.authorization.user)||void 0===n?void 0:n.email}));return Object(x.jsxs)(R,{children:[Object(x.jsx)("h2",{className:"activeNavLink",children:"Phonebook tracker"}),t&&Object(x.jsx)("h3",{className:"title",children:t}),Object(x.jsx)(I,{})]})},P=e(6),C=function(t){var n=t.path,e=t.exact,c=t.component,a=t.isAuth,r=t.isRestricted;return a&&r?Object(x.jsx)(P.a,{to:"/contacts"}):Object(x.jsx)(P.b,{path:n,exact:e,component:c})},A=function(t){var n=t.path,e=t.exact,c=t.component;return t.isAuth?Object(x.jsx)(P.b,{path:n,exact:e,component:c}):Object(x.jsx)(P.a,{to:"/login"})},S=N.a.main(r||(r=Object(y.a)(["\n  height: 100vh;\n  width: 100%;\n  background-color: #4d4848;\n  justify-content: space-between;\n  align-items: center;\n  text-align: center;\n  justify-content: center;\n  padding: 40px 40px;\n  margin: 0 auto;\n  .title {\n    color: #5fa15f;\n  }\n"]))),E=function(){var t=Object(p.c)(z.b);return Object(x.jsx)(S,{children:Object(x.jsx)("main",{children:Object(x.jsx)(f.Suspense,{fallback:Object(x.jsx)("h2",{children:"...loading"}),children:Object(x.jsx)(P.d,{children:L.map((function(n){var e=n.path,c=n.exact,a=n.component,r=n.isPrivate,i=n.isRestricted;return r?Object(x.jsx)(A,{path:e,exact:c,component:a,isAuth:t},e):Object(x.jsx)(C,{path:e,exact:c,component:a,isAuth:t,isRestricted:i},e)}))})})})})},U=function(){var t=Object(p.b)(),n=Object(p.c)((function(t){return t.authorization.tokens}));return Object(f.useEffect)((function(){n&&t(Object(v.b)())}),[t,n]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(T,{}),Object(x.jsx)(E,{})]})},q=e(8),F=e(3),J=e(2),B=e(53),H=e(7),D=Object(F.c)([],(i={},Object(J.a)(i,H.a,(function(t,n){return[].concat(Object(B.a)(t),[n.payload])})),Object(J.a)(i,H.b,(function(t,n){return n.payload})),Object(J.a)(i,H.c,(function(t,n){return t.filter((function(t){return t.id!==n.payload}))})),Object(J.a)(i,k.f,(function(){return[]})),i)),G=Object(F.c)(!1,(o={},Object(J.a)(o,H.g,(function(){return!0})),Object(J.a)(o,k.f,(function(){return!1})),Object(J.a)(o,H.f,(function(){return!1})),o)),K=Object(F.c)("",(u={},Object(J.a)(u,H.e,(function(t,n){return n.payload})),Object(J.a)(u,k.f,(function(){return""})),u)),M=Object(F.c)("",(s={},Object(J.a)(s,H.d,(function(t,n){return n.payload})),Object(J.a)(s,k.f,(function(){return""})),s)),Q=Object(q.b)({items:D,filter:K,isLoading:G,error:M}),V=Object(F.c)(null,(b={},Object(J.a)(b,k.i,(function(t,n){return{displayName:n.payload.displayName,email:n.payload.email}})),Object(J.a)(b,k.c,(function(t,n){return{displayName:n.payload.displayName,email:n.payload.email}})),Object(J.a)(b,k.f,(function(){return null})),b)),W=Object(F.c)(null,(j={},Object(J.a)(j,k.i,(function(t,n){return{idToken:n.payload.idToken,refreshToken:n.payload.refreshToken,localId:n.payload.localId}})),Object(J.a)(j,k.c,(function(t,n){return{idToken:n.payload.idToken,refreshToken:n.payload.refreshToken,localId:n.payload.localId}})),Object(J.a)(j,k.f,(function(){return null})),j)),X=Object(F.c)(!1,(d={},Object(J.a)(d,k.h,(function(){return!0})),Object(J.a)(d,k.i,(function(){return!1})),Object(J.a)(d,k.g,(function(){return!1})),Object(J.a)(d,k.b,(function(){return!0})),Object(J.a)(d,k.c,(function(){return!1})),Object(J.a)(d,k.a,(function(){return!1})),Object(J.a)(d,k.e,(function(){return!0})),Object(J.a)(d,k.f,(function(){return!1})),Object(J.a)(d,k.d,(function(){return!1})),d)),Y=Object(F.c)("",(l={},Object(J.a)(l,k.g,(function(t,n){return n.payload})),Object(J.a)(l,k.a,(function(t,n){return n.payload})),Object(J.a)(l,k.d,(function(t,n){return n.payload})),Object(J.a)(l,k.f,(function(){return""})),l)),Z=Object(q.b)({user:V,tokens:W,isLoading:X,error:Y}),$=e(15),_=e(52),tt={key:"root",storage:e.n(_).a,whitelist:["tokens","user"]},nt=Object(q.b)({contacts:Q,authorization:Object($.g)(tt,Z)}),et=Object(F.a)({reducer:nt,middleware:function(t){return t({serializableCheck:{ignoredActions:[$.a,$.f,$.b,$.c,$.d,$.e]}})}});Object($.h)(et);var ct=et;h.a.render(Object(x.jsx)(p.a,{store:ct,children:Object(x.jsx)(m.a,{children:Object(x.jsx)(U,{})})}),document.getElementById("root"))}},[[89,4,5]]]);
//# sourceMappingURL=main.77755dcd.chunk.js.map