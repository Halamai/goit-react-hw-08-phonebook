(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{138:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(11),n=a(5),r=a(3),i=a(25),l=a(26),o=a.n(l);var b=a(24),j=a(1);var p=e=>{let{signUp:t,signIn:a}=e;const[c,r]=Object(s.useState)(""),[i,l]=Object(s.useState)(""),[o,b]=Object(s.useState)(""),p=Object(n.g)(),m=e=>{const{name:t,value:a}=e.target;"email"===t&&r(a),"password"===t&&l(a),"displayName"===t&&b(a)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"/registration"===p.pathname?t({email:c,password:i,displayName:o}):a({email:c,password:i})},children:["/registration"===p.pathname&&Object(j.jsxs)("label",{className:"label",children:["Name",Object(j.jsx)("input",{className:"input",placeholder:"Enter your name",type:"text",value:o,onChange:m,name:"displayName"})]}),Object(j.jsxs)("label",{className:"label",children:["Email",Object(j.jsx)("input",{className:"input",type:"text",value:c,onChange:m,name:"email",placeholder:"Enter email"})]}),Object(j.jsxs)("label",{className:"label",children:["Password",Object(j.jsx)("input",{className:"input",type:"text",value:i,onChange:m,name:"password",placeholder:"Enter password"})]}),Object(j.jsx)("button",{className:"title",type:"submit",children:"/registration"===p.pathname?"Sign up":"Sign in"})]})})};var m=()=>{const e=Object(c.b)(),t=Object(c.c)(b.a),a=Object(c.c)(b.c),l=Object(n.g)(),m=Object(s.useCallback)((()=>e(Object(r.g)(""))),[e]);return Object(s.useEffect)((()=>{m()}),[l,m]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{signUp:a=>e((e=>async a=>{a(Object(r.h)());try{const t=await o.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCmfNAZpQMf65ja0fbVuFSVrRYNTKWcXL0",Object(i.a)(Object(i.a)({},e),{},{returnSecureToken:!0}));a(Object(r.i)(t.data))}catch(t){a(Object(r.g)(t.response.data.error.message))}})(a)),signIn:a=>e((e=>async a=>{a(Object(r.b)());try{const t=await o.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCmfNAZpQMf65ja0fbVuFSVrRYNTKWcXL0",Object(i.a)(Object(i.a)({},e),{},{returnSecureToken:!0}));a(Object(r.c)(t.data))}catch(t){a(Object(r.a)(t.response.data.error.message))}})(a))}),t&&Object(j.jsx)("h2",{children:t}),a&&Object(j.jsx)("h2",{children:"...loading"})]})};t.default=()=>Object(j.jsx)(m,{})}}]);
//# sourceMappingURL=AuthPage.bb645b67.chunk.js.map