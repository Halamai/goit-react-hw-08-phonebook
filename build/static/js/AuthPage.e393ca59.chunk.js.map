{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/auth/authForm/AuthForm.js","Components/auth/Auth.js","redux/auth/authOperations.js","pages/AuthPage.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","AuthForm","signUp","signIn","useState","email","setEmail","password","setPassword","displayName","setDisplayName","location","useLocation","onHandleChange","e","target","name","onSubmit","preventDefault","pathname","className","placeholder","type","onChange","Auth","dispatch","useDispatch","error","useSelector","errorSelector","loader","loaderSelector","resetError","useCallback","signUpError","useEffect","user","a","signUpRequest","axios","post","process","returnSecureToken","response","signUpSuccess","data","message","signUpOperation","signInRequest","signInSuccess","signInError","signInOperation","AuthPage"],"mappings":"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","file":"static/js/AuthPage.e393ca59.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// import { FormContainer } from \"./AuthFormStyled.js\";\r\nimport React, { useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n// import { HeaderContainer } from \"../../header/HeaderStyled.js\";\r\n\r\nconst AuthForm = ({ signUp, signIn }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const location = useLocation();\r\n\r\n  const onHandleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    name === \"email\" && setEmail(value);\r\n    name === \"password\" && setPassword(value);\r\n    name === \"displayName\" && setDisplayName(value);\r\n  };\r\n\r\n  const onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    location.pathname === \"/registration\"\r\n      ? signUp({ email, password, displayName })\r\n      : signIn({ email, password });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onHandleSubmit}>\r\n        {location.pathname === \"/registration\" && (\r\n          <label className=\"label\">\r\n            Name\r\n            <input\r\n              className=\"input\"\r\n              placeholder=\"Enter your name\"\r\n              type=\"text\"\r\n              value={displayName}\r\n              onChange={onHandleChange}\r\n              name=\"displayName\"\r\n            />\r\n          </label>\r\n        )}\r\n        <label className=\"label\">\r\n          Email\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            value={email}\r\n            onChange={onHandleChange}\r\n            name=\"email\"\r\n            placeholder=\"Enter email\"\r\n          />\r\n        </label>\r\n        <label className=\"label\">\r\n          Password\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            value={password}\r\n            onChange={onHandleChange}\r\n            name=\"password\"\r\n            placeholder=\"Enter password\"\r\n          />\r\n        </label>\r\n        <button className=\"title\" type=\"submit\">\r\n          {location.pathname === \"/registration\" ? \"Sign up\" : \"Sign in\"}\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router\";\r\nimport { signUpError } from \"../../redux/auth/authActions\";\r\n// import { signUpError } from \"../../redux/auth/authActions\";\r\nimport {\r\n  signInOperation,\r\n  signUpOperation,\r\n} from \"../../redux/auth/authOperations\";\r\nimport { errorSelector, loaderSelector } from \"../../redux/auth/authSelectors\";\r\nimport AuthForm from \"./authForm/AuthForm\";\r\n\r\nconst Auth = () => {\r\n  const dispatch = useDispatch();\r\n  const error = useSelector(errorSelector);\r\n  const loader = useSelector(loaderSelector);\r\n  const location = useLocation();\r\n  const signUp = (user) => dispatch(signUpOperation(user));\r\n  const signIn = (user) => dispatch(signInOperation(user));\r\n  const resetError = useCallback(() => dispatch(signUpError(\"\")), [dispatch]);\r\n\r\n  useEffect(() => {\r\n    resetError();\r\n  }, [location, resetError]);\r\n  return (\r\n    <>\r\n      <AuthForm signUp={signUp} signIn={signIn} />\r\n      {error && <h2>{error}</h2>}\r\n      {loader && <h2>...loading</h2>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import axios from \"axios\";\r\nimport {\r\n  signInError,\r\n  signInRequest,\r\n  signInSuccess,\r\n  signUpError,\r\n  signUpRequest,\r\n  signUpSuccess,\r\n} from \"./authActions\";\r\n\r\nconst signUpOperation = (user) => async (dispatch) => {\r\n  dispatch(signUpRequest());\r\n  try {\r\n    const response = await axios.post(process.env.REACT_APP_SIGNUP_URL, {\r\n      ...user,\r\n      returnSecureToken: true,\r\n    });\r\n    dispatch(signUpSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(signUpError(error.response.data.error.message));\r\n  }\r\n};\r\n\r\nconst signInOperation = (user) => async (dispatch) => {\r\n  dispatch(signInRequest());\r\n  try {\r\n    const response = await axios.post(process.env.REACT_APP_SIGNIN_URL, {\r\n      ...user,\r\n      returnSecureToken: true,\r\n    });\r\n    dispatch(signInSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(signInError(error.response.data.error.message));\r\n  }\r\n};\r\n\r\nexport { signUpOperation, signInOperation };\r\n","import React from \"react\";\r\nimport Auth from \"../Components/auth/Auth.js\";\r\n\r\nconst AuthPage = () => {\r\n  return <Auth />;\r\n};\r\n\r\nexport default AuthPage;\r\n"],"sourceRoot":""}